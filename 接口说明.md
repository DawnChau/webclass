# User
## 用户登录获取token
- 方法
```
POST
```
- URL
```
/user/login
```
- 参数
```
{
	"username": "zhoufuxiao",
	"password": "123456"
}
```
- 是否需要携带Token
```
否
```
- 返回示例：
```json
{
    "msg": "用户登录成功",
    "data": "eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ6aG91ZnV4aWFvIiwiZXhwIjoxNTQ0NTM4NTcxfQ.h5q8K_vQcAjDDNTq3EbEGFVv4g8p4J4lyEhsi3AWN-fyajX-yhxopPh0rtvv8wmOJAyW-Gn-8CEWJeMjE827UQ"
}
```
- Case
```
"用户登录成功"
"用户不存在"
"用户密码错误"
"用户被封"
```
## 禁用用户
- 方法
```
GET
```
- URL
```
/admin/disable/{id}
```
- 参数
```
Integer id
```
- 是否需要携带Token
```
是
```
- 返回示例：
```json
{
	"msg": "禁用用户成功",
	"data": {
		"id": 1,
		"role": 0,
		"disabled": true,
		"account": "dawnchau",
		"password": "123456",
		"email": "czcacqcc@qq.com"
	}
}
```
- Case
```
"用户不存在"
"解禁用户成功"
"禁用用户成功"
```
- 注：
```
需要管理员权限
```
## 注册用户
- 方法
```
POST
```
- URL
```
/user/register
```
- 参数
```json
{
	"role": 0,
	"disabled": true,
	"account": "world",
	"password": "123456",
	"email": "czcacqcc@qq.com",
	"hobbies":[1,2,3]
}
```
- 是否需要携带Token
```
否
```
- 返回示例：
```json
{
	"msg": "用户注册成功",
	"data": {
		"id": null,
		"role": 0,
		"disabled": true,
		"account": "world",
		"password": "123456",
		"email": "czcacqcc@qq.com"
	}
}
```
- Case
```
"用户注册成功"
"用户已经存在"
```
## 获取用户信息
- 方法
```
GET
```
- URL
```
/user/info/{id}
```
- 参数
```
Integer id
```
- 是否需要携带Token
```
是
```
- 返回示例：
```json
{
	"msg": "获取用户信息成功",
	"data": {
		"id": 1,
		"role": 0,
		"disabled": false,
		"account": "dawnchau",
		"password": "123456",
		"email": "czcacqcc@qq.com"
	}
}
```
- Case
```
"获取用户信息成功"
```
- 注：
```
此调用需要紧跟 /user/login
```
## 为用户添加爱好
- 方法
```
POST
```
- URL
```
/user/hobbies
```
- 参数
```
{
	"userId": 2,
	"hobbies": [1, 2]
}
```
- 是否需要携带Token
```
是
```
- 返回示例：
```json
{
	"msg": "爱好添加成功",
	"data": {
		"userId": 2,
		"hobbies": [
			1,
			2
		]
	}
}
```
- Case
```
"爱好添加成功"
```
# Hobby
## 查询所有的爱好
- 方法
```
GET
```
- URL
```
/hobby/all
```
- 参数
```
无
```
- 是否需要携带Token
```
是
```
- 返回示例：
```json
{
	"msg": "爱好查询成功",
	"data": [{
		"id": 1,
		"hobby": "code"
	}, {
		"id": 2,
		"hobby": "reading"
	}, {
		"id": 3,
		"hobby": "music"
	}, {
		"id": 4,
		"hobby": "writing"
	}]
}
```
- Case
```
"爱好查询成功"
```
# Book
## 获取所有书籍
- 方法
```
GET
```
- URL
```
/book/all
```
- 参数
```
无
```
- 是否需要携带Token
```
是
```
- 返回示例：
```json
{
	"msg": "所有书籍查询成功",
	"data": [{
		"author": "DawnChau",
		"price": 10.5,
		"isbn": "11-122132",
		"name": "Code",
		"id": 1,
		"stock": 10
	}]
}
```
- Case
```
"所有书籍查询成功"
```
## 更新某本书籍
- 方法
```
POST
```
- URL
```
/admin/book/edit
```
- 参数
```
{
	"author": "DawnChau",
	"price": 10.5,
	"isbn": "11-122132",
	"name": "Code",
	"id": 1,
	"stock": 10
}
```
- 是否需要携带Token
```
是
```
- 返回示例：
```json
{
    "msg": "书籍更新成功",
    "data": {
        "id": 1,
        "name": "Code",
        "author": "DawnChau",
        "cover": null,
        "isbn": "11-122132",
        "stock": 10,
        "price": 10.5
    }
}
```
- Case
```
"书籍更新成功"
```
- 注：
```
需要管理员权限
```
## 添加书籍
- 方法
```
POST
```
- URL
```
/admin/book/add
```
- 参数
```
{
	"author": "zfx",
	"price": 10.5,
	"isbn": "11-122132",
	"name": "game",
	"stock": 10
}
```
- 是否需要携带Token
```
是
```
- 返回示例：
```json
{
    "msg": "书籍添加成功",
    "data": {
        "id": 3,
        "name": "game",
        "author": "zfx",
        "cover": null,
        "isbn": "11-122132",
        "stock": 10,
        "price": 10.5
    }
}
```
- Case
```
"书籍添加成功"
```
- 注：
```
需要管理员权限
```
## 删除书籍
- 方法
```
DELETE
```
- URL
```
/admin/book/delete/{id}
```
- 参数
```
Integer id
```
- 是否需要携带Token
```
是
```
- 返回示例：
```json
{
    "msg": "书籍删除成功",
    "data": null
}
```
- Case
```
"书籍删除成功"
```
- 注：
```
需要管理员权限
```
# Cart
## 用户将书籍加入购物车
- 方法
```
POST
```
- URL
```
/user/addcart
```
- 参数
```json
{
	"userid": 5,
	"bookid": 4,
	"quantity":2
}
```
- 是否需要携带Token
```
是
```
- 返回示例：
```json
{
    "msg": "书籍加入购物车成功",
    "data": {
        "id": 10,
        "bookid": 4,
        "userid": 5,
        "quantity": 2,
        "bookDetail": {
            "id": 4,
            "name": "code",
            "author": "dawnchau",
            "cover": null,
            "isbn": "23-3344",
            "stock": 20,
            "price": 11.3
        }
    }
}
```
- Case
```
"书籍加入购物车成功"
"书籍不存在"
```
## 用户浏览购物车中的所有书籍
- 方法
```
GET
```
- URL
```
/user/listallcartbooks?userId={userId}
```
- 参数
```json
userId
```
- 是否需要携带Token
```
是
```
- 返回示例：
```json
{
    "msg": "列举所有购物车内书籍成功",
    "data": [
        {
            "id": 2,
            "bookid": 3,
            "userid": 1,
            "quantity": 2,
            "bookDetail": {
                "id": 3,
                "name": "game",
                "author": "zfx",
                "cover": null,
                "isbn": "11-122132",
                "stock": 10,
                "price": 10.5
            }
        },
        {
            "id": 11,
            "bookid": 4,
            "userid": 1,
            "quantity": 4,
            "bookDetail": {
                "id": 4,
                "name": "code",
                "author": "dawnchau",
                "cover": null,
                "isbn": "23-3344",
                "stock": 20,
                "price": 11.3
            }
        }
    ]
}
```
- Case
```
"列举所有购物车内书籍成功"
```